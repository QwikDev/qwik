---
title: \@qwik.dev/qwik/server API Reference
---

# [API](/api) &rsaquo; @qwik.dev/qwik/server

## getQwikBackpatchExecutorScript

Provides the `backpatch-executor.js` executor script as a string.

```typescript
export declare function getQwikBackpatchExecutorScript(opts?: {
  debug?: boolean;
}): string;
```

<table><thead><tr><th>

Parameter

</th><th>

Type

</th><th>

Description

</th></tr></thead>
<tbody><tr><td>

opts

</td><td>

\{ debug?: boolean; }

</td><td>

_(Optional)_

</td></tr>
</tbody></table>

**Returns:**

string

[Edit this section](https://github.com/QwikDev/qwik/tree/main/packages/qwik/src/server/scripts.ts)

## getQwikLoaderScript

Provides the `qwikloader.js` file as a string. Useful for tooling to inline the qwikloader script into HTML.

```typescript
export declare function getQwikLoaderScript(opts?: { debug?: boolean }): string;
```

<table><thead><tr><th>

Parameter

</th><th>

Type

</th><th>

Description

</th></tr></thead>
<tbody><tr><td>

opts

</td><td>

\{ debug?: boolean; }

</td><td>

_(Optional)_

</td></tr>
</tbody></table>

**Returns:**

string

[Edit this section](https://github.com/QwikDev/qwik/tree/main/packages/qwik/src/server/scripts.ts)

## getQwikPrefetchWorkerScript

Provides the `qwik-prefetch-service-worker.js` file as a string. Useful for tooling to inline the qwik-prefetch-service-worker script into HTML.

```typescript
export declare function getQwikPrefetchWorkerScript(opts?: {
  debug?: boolean;
}): string;
```

<table><thead><tr><th>

Parameter

</th><th>

Type

</th><th>

Description

</th></tr></thead>
<tbody><tr><td>

opts

</td><td>

\{ debug?: boolean; }

</td><td>

_(Optional)_

</td></tr>
</tbody></table>

**Returns:**

string

[Edit this section](https://github.com/QwikDev/qwik/tree/main/packages/qwik/src/server/scripts.ts)

## InOrderAuto

```typescript
export interface InOrderAuto
```

<table><thead><tr><th>

Property

</th><th>

Modifiers

</th><th>

Type

</th><th>

Description

</th></tr></thead>
<tbody><tr><td>

[maximumChunk?](#)

</td><td>

</td><td>

number

</td><td>

_(Optional)_

</td></tr>
<tr><td>

[maximumInitialChunk?](#)

</td><td>

</td><td>

number

</td><td>

_(Optional)_

</td></tr>
<tr><td>

[strategy](#)

</td><td>

</td><td>

'auto'

</td><td>

</td></tr>
</tbody></table>

[Edit this section](https://github.com/QwikDev/qwik/tree/main/packages/qwik/src/server/types.ts)

## InOrderDisabled

```typescript
export interface InOrderDisabled
```

<table><thead><tr><th>

Property

</th><th>

Modifiers

</th><th>

Type

</th><th>

Description

</th></tr></thead>
<tbody><tr><td>

[strategy](#)

</td><td>

</td><td>

'disabled'

</td><td>

</td></tr>
</tbody></table>

[Edit this section](https://github.com/QwikDev/qwik/tree/main/packages/qwik/src/server/types.ts)

## InOrderStreaming

```typescript
export type InOrderStreaming = InOrderAuto | InOrderDisabled | InOrderDirect;
```

**References:** [InOrderAuto](#inorderauto), [InOrderDisabled](#inorderdisabled)

[Edit this section](https://github.com/QwikDev/qwik/tree/main/packages/qwik/src/server/types.ts)

## PrefetchImplementation

> Warning: This API is now obsolete.
>
> Use `preloader` instead

```typescript
export interface PrefetchImplementation
```

<table><thead><tr><th>

Property

</th><th>

Modifiers

</th><th>

Type

</th><th>

Description

</th></tr></thead>
<tbody><tr><td>

[linkFetchPriority?](#)

</td><td>

</td><td>

'auto' \| 'low' \| 'high' \| null

</td><td>

_(Optional)_

</td></tr>
<tr><td>

[linkInsert?](#)

</td><td>

</td><td>

'js-append' \| 'html-append' \| null

</td><td>

_(Optional)_

</td></tr>
<tr><td>

[linkRel?](#)

</td><td>

</td><td>

'prefetch' \| 'preload' \| 'modulepreload' \| null

</td><td>

_(Optional)_

</td></tr>
<tr><td>

[prefetchEvent?](#)

</td><td>

</td><td>

'always' \| null

</td><td>

_(Optional)_

</td></tr>
<tr><td>

[workerFetchInsert?](#)

</td><td>

</td><td>

'always' \| 'no-link-support' \| null

</td><td>

_(Optional)_

</td></tr>
</tbody></table>

[Edit this section](https://github.com/QwikDev/qwik/tree/main/packages/qwik/src/server/types.ts)

## PrefetchResource

```typescript
export interface PrefetchResource
```

<table><thead><tr><th>

Property

</th><th>

Modifiers

</th><th>

Type

</th><th>

Description

</th></tr></thead>
<tbody><tr><td>

[imports](#)

</td><td>

</td><td>

[PrefetchResource](#prefetchresource)[]

</td><td>

</td></tr>
<tr><td>

[url](#)

</td><td>

</td><td>

string

</td><td>

</td></tr>
</tbody></table>

[Edit this section](https://github.com/QwikDev/qwik/tree/main/packages/qwik/src/server/types.ts)

## PrefetchStrategy

```typescript
export interface PrefetchStrategy
```

<table><thead><tr><th>

Property

</th><th>

Modifiers

</th><th>

Type

</th><th>

Description

</th></tr></thead>
<tbody><tr><td>

[implementation?](#)

</td><td>

</td><td>

[PrefetchImplementation](#prefetchimplementation)

</td><td>

_(Optional)_

</td></tr>
<tr><td>

[symbolsToPrefetch?](#)

</td><td>

</td><td>

[SymbolsToPrefetch](#symbolstoprefetch)

</td><td>

_(Optional)_

</td></tr>
</tbody></table>

[Edit this section](https://github.com/QwikDev/qwik/tree/main/packages/qwik/src/server/types.ts)

## PreloaderOptions

```typescript
export interface PreloaderOptions
```

<table><thead><tr><th>

Property

</th><th>

Modifiers

</th><th>

Type

</th><th>

Description

</th></tr></thead>
<tbody><tr><td>

[debug?](#)

</td><td>

</td><td>

boolean

</td><td>

_(Optional)_ Log preloader debug information to the console.

Defaults to `false`

</td></tr>
<tr><td>

[maxIdlePreloads?](#)

</td><td>

</td><td>

number

</td><td>

_(Optional)_ Maximum number of simultaneous preload links that the preloader will maintain. If you set this higher, the browser will have all JS files in memory sooner, but it will contend with other resource downloads. Furthermore, if a bundle suddenly becomes more likely, it will have to wait longer to be preloaded.

Bundles that reach 100% probability (static imports of other bundles) will always be preloaded immediately, no limit.

Defaults to `25`

</td></tr>
<tr><td>

[preloadProbability?](#)

</td><td>

</td><td>

number

</td><td>

_(Optional)_

</td></tr>
<tr><td>

[ssrPreloadProbability?](#)

</td><td>

</td><td>

number

</td><td>

_(Optional)_ The minimum probability for a bundle to be added as a preload link during SSR.

Defaults to `0.7` (70% probability)

This makes sure that the most likely bundles are preloaded ahead of time.

</td></tr>
<tr><td>

[ssrPreloads?](#)

</td><td>

</td><td>

number

</td><td>

_(Optional)_ Maximum number of preload links to add during SSR. These instruct the browser to preload likely bundles before the preloader script is active. This most likely includes the core and the preloader script itself. Setting this to 0 will disable all preload links.

Preload links can delay LCP, which is a Core Web Vital, but it can increase TTI, which is not a Core Web Vital but more noticeable to the user.

Defaults to `5`

</td></tr>
</tbody></table>

[Edit this section](https://github.com/QwikDev/qwik/tree/main/packages/qwik/src/server/types.ts)

## QwikLoaderOptions

```typescript
export type QwikLoaderOptions =
  | "module"
  | "inline"
  | "never"
  | {
      include?: "always" | "never" | "auto";
      position?: "top" | "bottom";
    };
```

[Edit this section](https://github.com/QwikDev/qwik/tree/main/packages/qwik/src/server/types.ts)

## Render

```typescript
export type Render = RenderToString | RenderToStream;
```

**References:** [RenderToString](#rendertostring), [RenderToStream](#rendertostream)

[Edit this section](https://github.com/QwikDev/qwik/tree/main/packages/qwik/src/server/types.ts)

## RenderOptions

```typescript
export interface RenderOptions extends SerializeDocumentOptions
```

**Extends:** [SerializeDocumentOptions](#serializedocumentoptions)

<table><thead><tr><th>

Property

</th><th>

Modifiers

</th><th>

Type

</th><th>

Description

</th></tr></thead>
<tbody><tr><td>

[base?](#)

</td><td>

</td><td>

string \| ((options: [RenderOptions](#renderoptions)) =&gt; string)

</td><td>

_(Optional)_ Specifies the root of the JS files of the client build. Setting a base, will cause the render of the `q:base` attribute in the `q:container` element.

</td></tr>
<tr><td>

[containerAttributes?](#)

</td><td>

</td><td>

Record&lt;string, string&gt;

</td><td>

_(Optional)_

</td></tr>
<tr><td>

[containerTagName?](#)

</td><td>

</td><td>

string

</td><td>

_(Optional)_ When set, the app is serialized into a fragment. And the returned html is not a complete document. Defaults to `html`

</td></tr>
<tr><td>

[locale?](#)

</td><td>

</td><td>

string \| ((options: [RenderOptions](#renderoptions)) =&gt; string)

</td><td>

_(Optional)_ Language to use when rendering the document.

</td></tr>
<tr><td>

[prefetchStrategy?](#)

</td><td>

</td><td>

[PrefetchStrategy](#prefetchstrategy) \| null

</td><td>

_(Optional)_

</td></tr>
<tr><td>

[preloader?](#)

</td><td>

</td><td>

[PreloaderOptions](#preloaderoptions) \| false

</td><td>

_(Optional)_ Specifies how preloading is handled. This ensures that code is instantly available when needed.

</td></tr>
<tr><td>

[qwikLoader?](#)

</td><td>

</td><td>

[QwikLoaderOptions](#qwikloaderoptions)

</td><td>

_(Optional)_ Specifies how the Qwik Loader is included in the document. This enables interactivity and lazy loading.

`module`: Use a `<script>` tag to load the Qwik Loader. Subsequent page loads will have the script cached and instantly running.

`inline`: This embeds the Qwik Loader script directly in the document. This adds about 3kB before compression, which typically is reduced to about 1.6kB with gzip.

`never`: Do not include the Qwik Loader script. This is mostly useful when embedding multiple containers on the same page.

Defaults to `module`.

Note that the Qwik Loader is absolutely required for Qwik to work. There must be an instance of it loaded for any interactivity to happen.

</td></tr>
<tr><td>

[serverData?](#)

</td><td>

</td><td>

Record&lt;string, any&gt;

</td><td>

_(Optional)_ Metadata that can be retrieved during SSR with `useServerData()`.

</td></tr>
<tr><td>

[snapshot?](#)

</td><td>

</td><td>

boolean

</td><td>

_(Optional)_ Defaults to `true`

</td></tr>
</tbody></table>

[Edit this section](https://github.com/QwikDev/qwik/tree/main/packages/qwik/src/server/types.ts)

## RenderResult

```typescript
export interface RenderResult
```

<table><thead><tr><th>

Property

</th><th>

Modifiers

</th><th>

Type

</th><th>

Description

</th></tr></thead>
<tbody><tr><td>

[isStatic](#)

</td><td>

</td><td>

boolean

</td><td>

</td></tr>
<tr><td>

[manifest?](#)

</td><td>

</td><td>

ServerQwikManifest

</td><td>

_(Optional)_

</td></tr>
<tr><td>

[snapshotResult](#)

</td><td>

</td><td>

SnapshotResult \| undefined

</td><td>

</td></tr>
</tbody></table>

[Edit this section](https://github.com/QwikDev/qwik/tree/main/packages/qwik/src/server/types.ts)

## renderToStream

```typescript
export type RenderToStream = (
  opts: RenderToStreamOptions,
) => Promise<RenderToStreamResult>;
```

**References:** [RenderToStreamOptions](#rendertostreamoptions), [RenderToStreamResult](#rendertostreamresult)

[Edit this section](https://github.com/QwikDev/qwik/tree/main/packages/qwik/src/server/ssr-render.ts)

## RenderToStream

```typescript
export type RenderToStream = (
  opts: RenderToStreamOptions,
) => Promise<RenderToStreamResult>;
```

**References:** [RenderToStreamOptions](#rendertostreamoptions), [RenderToStreamResult](#rendertostreamresult)

[Edit this section](https://github.com/QwikDev/qwik/tree/main/packages/qwik/src/server/types.ts)

## RenderToStreamOptions

```typescript
export interface RenderToStreamOptions extends RenderOptions
```

**Extends:** [RenderOptions](#renderoptions)

<table><thead><tr><th>

Property

</th><th>

Modifiers

</th><th>

Type

</th><th>

Description

</th></tr></thead>
<tbody><tr><td>

[stream](#)

</td><td>

</td><td>

StreamWriter

</td><td>

</td></tr>
<tr><td>

[streaming?](#)

</td><td>

</td><td>

[StreamingOptions](#streamingoptions)

</td><td>

_(Optional)_

</td></tr>
</tbody></table>

[Edit this section](https://github.com/QwikDev/qwik/tree/main/packages/qwik/src/server/types.ts)

## RenderToStreamResult

```typescript
export interface RenderToStreamResult extends RenderResult
```

**Extends:** [RenderResult](#renderresult)

<table><thead><tr><th>

Property

</th><th>

Modifiers

</th><th>

Type

</th><th>

Description

</th></tr></thead>
<tbody><tr><td>

[flushes](#)

</td><td>

</td><td>

number

</td><td>

</td></tr>
<tr><td>

[size](#)

</td><td>

</td><td>

number

</td><td>

</td></tr>
<tr><td>

[timing](#)

</td><td>

</td><td>

\{ firstFlush: number; render: number; snapshot: number; }

</td><td>

</td></tr>
</tbody></table>

[Edit this section](https://github.com/QwikDev/qwik/tree/main/packages/qwik/src/server/types.ts)

## renderToString

```typescript
export type RenderToString = (
  opts: RenderToStringOptions,
) => Promise<RenderToStringResult>;
```

**References:** [RenderToStringOptions](#rendertostringoptions), [RenderToStringResult](#rendertostringresult)

[Edit this section](https://github.com/QwikDev/qwik/tree/main/packages/qwik/src/server/ssr-render.ts)

## RenderToString

```typescript
export type RenderToString = (
  opts: RenderToStringOptions,
) => Promise<RenderToStringResult>;
```

**References:** [RenderToStringOptions](#rendertostringoptions), [RenderToStringResult](#rendertostringresult)

[Edit this section](https://github.com/QwikDev/qwik/tree/main/packages/qwik/src/server/types.ts)

## RenderToStringOptions

```typescript
export interface RenderToStringOptions extends RenderOptions
```

**Extends:** [RenderOptions](#renderoptions)

[Edit this section](https://github.com/QwikDev/qwik/tree/main/packages/qwik/src/server/types.ts)

## RenderToStringResult

```typescript
export interface RenderToStringResult extends RenderResult
```

**Extends:** [RenderResult](#renderresult)

<table><thead><tr><th>

Property

</th><th>

Modifiers

</th><th>

Type

</th><th>

Description

</th></tr></thead>
<tbody><tr><td>

[html](#)

</td><td>

</td><td>

string

</td><td>

</td></tr>
<tr><td>

[timing](#)

</td><td>

</td><td>

\{ firstFlush: number; render: number; snapshot: number; }

</td><td>

</td></tr>
</tbody></table>

[Edit this section](https://github.com/QwikDev/qwik/tree/main/packages/qwik/src/server/types.ts)

## resolveManifest

Merges a given manifest with the built manifest and provides mappings for symbols.

```typescript
export declare function resolveManifest(
  manifest?: Partial<QwikManifest | ResolvedManifest> | undefined,
): ResolvedManifest | undefined;
```

<table><thead><tr><th>

Parameter

</th><th>

Type

</th><th>

Description

</th></tr></thead>
<tbody><tr><td>

manifest

</td><td>

Partial&lt;QwikManifest \| ResolvedManifest&gt; \| undefined

</td><td>

_(Optional)_

</td></tr>
</tbody></table>

**Returns:**

ResolvedManifest \| undefined

[Edit this section](https://github.com/QwikDev/qwik/tree/main/packages/qwik/src/server/ssr-render.ts)

## SerializeDocumentOptions

```typescript
export interface SerializeDocumentOptions
```

<table><thead><tr><th>

Property

</th><th>

Modifiers

</th><th>

Type

</th><th>

Description

</th></tr></thead>
<tbody><tr><td>

[debug?](#)

</td><td>

</td><td>

boolean

</td><td>

_(Optional)_

</td></tr>
<tr><td>

[manifest?](#)

</td><td>

</td><td>

Partial&lt;QwikManifest \| ResolvedManifest&gt;

</td><td>

_(Optional)_

</td></tr>
<tr><td>

[symbolMapper?](#)

</td><td>

</td><td>

SymbolMapperFn

</td><td>

_(Optional)_

</td></tr>
</tbody></table>

[Edit this section](https://github.com/QwikDev/qwik/tree/main/packages/qwik/src/server/types.ts)

## setServerPlatform

```typescript
export declare function setServerPlatform(
  manifest?: Partial<QwikManifest | ResolvedManifest>,
): Promise<void>;
```

<table><thead><tr><th>

Parameter

</th><th>

Type

</th><th>

Description

</th></tr></thead>
<tbody><tr><td>

manifest

</td><td>

Partial&lt;QwikManifest \| ResolvedManifest&gt;

</td><td>

_(Optional)_

</td></tr>
</tbody></table>

**Returns:**

Promise&lt;void&gt;

[Edit this section](https://github.com/QwikDev/qwik/tree/main/packages/qwik/src/server/index.ts)

## StreamingOptions

```typescript
export interface StreamingOptions
```

<table><thead><tr><th>

Property

</th><th>

Modifiers

</th><th>

Type

</th><th>

Description

</th></tr></thead>
<tbody><tr><td>

[inOrder?](#)

</td><td>

</td><td>

[InOrderStreaming](#inorderstreaming)

</td><td>

_(Optional)_

</td></tr>
</tbody></table>

[Edit this section](https://github.com/QwikDev/qwik/tree/main/packages/qwik/src/server/types.ts)

## SymbolsToPrefetch

Auto: Prefetch all possible QRLs used by the document. Default

```typescript
export type SymbolsToPrefetch =
  | "auto"
  | ((opts: { manifest: ServerQwikManifest }) => PrefetchResource[]);
```

**References:** [PrefetchResource](#prefetchresource)

[Edit this section](https://github.com/QwikDev/qwik/tree/main/packages/qwik/src/server/types.ts)

## versions

```typescript
versions: {
    readonly qwik: string;
    readonly qwikDom: string;
}
```

[Edit this section](https://github.com/QwikDev/qwik/tree/main/packages/qwik/src/server/utils.ts)
