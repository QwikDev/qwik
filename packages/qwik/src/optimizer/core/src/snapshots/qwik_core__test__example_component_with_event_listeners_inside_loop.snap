---
source: packages/qwik/src/optimizer/core/src/test.rs
assertion_line: 3980
expression: output
---
==INPUT==


import { $, component$, useStore, useSignal } from '@qwik.dev/core';
export const App = component$(() => {
      const cart = useStore<string[]>([]);
      const results = useSignal(['foo']);
      function loopArrowFn(results: string[]) {
        return results.map((item) => (
          <span
            onClick$={() => {
              cart.push(item);
            }}
          >
            {item}
          </span>
        ));
      }
      function loopForI(results: string[]) {
        const items = [];
        for (let i = 0; i < results.length; i++) {
          items.push(
            <span
              onClick$={() => {
                cart.push(results[i]);
              }}
            >
              {results[i]}
            </span>
          );
        }
        return items;
      }
      function loopForOf(results: string[]) {
        const items = [];
        for (const item of results) {
          items.push(
            <span
              onClick$={() => {
                cart.push(item);
              }}
            >
              {item}
            </span>
          );
        }
        return items;
      }
      function loopForIn(results: string[]) {
        const items = [];
        for (const key in results) {
          items.push(
            <span
              onClick$={() => {
                cart.push(results[key]);
              }}
            >
              {results[key]}
            </span>
          );
        }
        return items;
      }
      function loopWhile(results: string[]) {
        const items = [];
        let i = 0;
        while (i < results.length) {
          items.push(
            <span
              onClick$={() => {
                cart.push(results[i]);
              }}
            >
              {results[i]}
            </span>
          );
          i++;
        }
        return items;
      }
      return (
        <div>
          {results.value.map((item) => (
            <button
              id="second"
              onClick$={() => {
                cart.push(item);
              }}
            >
              {item}
            </button>
          ))}
          {loopArrowFn(results.value)}
          {loopForI(results.value)}
          {loopForOf(results.value)}
          {loopForIn(results.value)}
          {loopWhile(results.value)}
        </div>
      );
    });

============================= test.js ==

import { componentQrl } from "@qwik.dev/core";
import { qrl } from "@qwik.dev/core";
const i_ckEPmXZlub0 = ()=>import("./test.tsx_App_component_ckEPmXZlub0");
export const App = /*#__PURE__*/ componentQrl(/*#__PURE__*/ qrl(i_ckEPmXZlub0, "App_component_ckEPmXZlub0"));


Some("{\"version\":3,\"sources\":[\"/user/qwik/src/test.tsx\"],\"names\":[],\"mappings\":\";;;AAEA,OAAO,MAAM,oBAAM,4EA+FZ\"}")
============================= test.tsx_App_component_loopForIn_span_q_e_click_adzBGickx1U.js (ENTRY POINT)==

import { _captures } from "@qwik.dev/core";
export const App_component_loopForIn_span_q_e_click_adzBGickx1U = (_, _1, key)=>{
    const cart = _captures[0], results = _captures[1];
    cart.push(results[key]);
};


Some("{\"version\":3,\"sources\":[\"/user/qwik/src/test.tsx\"],\"names\":[],\"mappings\":\";kEAmDwB,QAHL;;IAIH,KAAK,IAAI,CAAC,OAAO,CAAC,IAAI\"}")
/*
{
  "origin": "test.tsx",
  "name": "App_component_loopForIn_span_q_e_click_adzBGickx1U",
  "entry": null,
  "displayName": "test.tsx_App_component_loopForIn_span_q_e_click",
  "hash": "adzBGickx1U",
  "canonicalFilename": "test.tsx_App_component_loopForIn_span_q_e_click_adzBGickx1U",
  "path": "",
  "extension": "js",
  "parent": "App_component_ckEPmXZlub0",
  "ctxKind": "eventHandler",
  "ctxName": "onClick$",
  "captures": true,
  "loc": [
    1319,
    1383
  ],
  "paramNames": [
    "_",
    "_1",
    "key"
  ],
  "captureNames": [
    "cart",
    "results"
  ]
}
*/
============================= test.tsx_App_component_loopWhile_span_q_e_click_05kCMrZVn5E.js (ENTRY POINT)==

import { _captures } from "@qwik.dev/core";
export const App_component_loopWhile_span_q_e_click_05kCMrZVn5E = (_, _1, i)=>{
    const cart = _captures[0], results = _captures[1];
    cart.push(results[i]);
};


Some("{\"version\":3,\"sources\":[\"/user/qwik/src/test.tsx\"],\"names\":[],\"mappings\":\";kEAmEwB,QAHT;;IAIC,KAAK,IAAI,CAAC,OAAO,CAAC,EAAE\"}")
/*
{
  "origin": "test.tsx",
  "name": "App_component_loopWhile_span_q_e_click_05kCMrZVn5E",
  "entry": null,
  "displayName": "test.tsx_App_component_loopWhile_span_q_e_click",
  "hash": "05kCMrZVn5E",
  "canonicalFilename": "test.tsx_App_component_loopWhile_span_q_e_click_05kCMrZVn5E",
  "path": "",
  "extension": "js",
  "parent": "App_component_ckEPmXZlub0",
  "ctxKind": "eventHandler",
  "ctxName": "onClick$",
  "captures": true,
  "loc": [
    1693,
    1755
  ],
  "paramNames": [
    "_",
    "_1",
    "i"
  ],
  "captureNames": [
    "cart",
    "results"
  ]
}
*/
============================= test.tsx_App_component_loopForOf_span_q_e_click_zlNGHYu926I.js (ENTRY POINT)==

import { _captures } from "@qwik.dev/core";
export const App_component_loopForOf_span_q_e_click_zlNGHYu926I = (_, _1, item)=>{
    const cart = _captures[0];
    cart.push(item);
};


Some("{\"version\":3,\"sources\":[\"/user/qwik/src/test.tsx\"],\"names\":[],\"mappings\":\";kEAoCwB,QAHL;;IAIH,KAAK,IAAI,CAAC\"}")
/*
{
  "origin": "test.tsx",
  "name": "App_component_loopForOf_span_q_e_click_zlNGHYu926I",
  "entry": null,
  "displayName": "test.tsx_App_component_loopForOf_span_q_e_click",
  "hash": "zlNGHYu926I",
  "canonicalFilename": "test.tsx_App_component_loopForOf_span_q_e_click_zlNGHYu926I",
  "path": "",
  "extension": "js",
  "parent": "App_component_ckEPmXZlub0",
  "ctxKind": "eventHandler",
  "ctxName": "onClick$",
  "captures": true,
  "loc": [
    980,
    1036
  ],
  "paramNames": [
    "_",
    "_1",
    "item"
  ],
  "captureNames": [
    "cart"
  ]
}
*/
============================= test.tsx_App_component_ckEPmXZlub0.js (ENTRY POINT)==

import { _fnSignal } from "@qwik.dev/core";
import { _jsxSorted } from "@qwik.dev/core";
import { qrl } from "@qwik.dev/core";
import { useSignal } from "@qwik.dev/core";
import { useStore } from "@qwik.dev/core";
const _hf0 = (p0, p1)=>p1[p0];
const _hf0_str = "p1[p0]";
const i_05kCMrZVn5E = ()=>import("./test.tsx_App_component_loopWhile_span_q_e_click_05kCMrZVn5E");
const i_PbCYbPM6etI = ()=>import("./test.tsx_App_component_loopForI_span_q_e_click_PbCYbPM6etI");
const i_UB6Fs5a3bd8 = ()=>import("./test.tsx_App_component_div_button_q_e_click_UB6Fs5a3bd8");
const i_Wau7C836nf0 = ()=>import("./test.tsx_App_component_loopArrowFn_span_q_e_click_Wau7C836nf0");
const i_adzBGickx1U = ()=>import("./test.tsx_App_component_loopForIn_span_q_e_click_adzBGickx1U");
const i_zlNGHYu926I = ()=>import("./test.tsx_App_component_loopForOf_span_q_e_click_zlNGHYu926I");
export const App_component_ckEPmXZlub0 = ()=>{
    const cart = useStore([]);
    const results = useSignal([
        'foo'
    ]);
    const App_component_div_button_q_e_click_UB6Fs5a3bd8 = /*#__PURE__*/ qrl(i_UB6Fs5a3bd8, "App_component_div_button_q_e_click_UB6Fs5a3bd8", [
        cart
    ]);
    function loopArrowFn(results) {
        const App_component_loopArrowFn_span_q_e_click_Wau7C836nf0 = /*#__PURE__*/ qrl(i_Wau7C836nf0, "App_component_loopArrowFn_span_q_e_click_Wau7C836nf0", [
            cart
        ]);
        return results.map((item)=>/*#__PURE__*/ _jsxSorted("span", {
                "q-e:click": App_component_loopArrowFn_span_q_e_click_Wau7C836nf0,
                "q:p": item
            }, null, item, 0, "u6_0"));
    }
    function loopForI(results) {
        const items = [];
        const App_component_loopForI_span_q_e_click_PbCYbPM6etI = /*#__PURE__*/ qrl(i_PbCYbPM6etI, "App_component_loopForI_span_q_e_click_PbCYbPM6etI", [
            cart,
            results
        ]);
        for(let i = 0; i < results.length; i++)items.push(/*#__PURE__*/ _jsxSorted("span", {
            "q-e:click": App_component_loopForI_span_q_e_click_PbCYbPM6etI,
            "q:p": i
        }, null, _fnSignal(_hf0, [
            i,
            results
        ], _hf0_str), 0, "u6_1"));
        return items;
    }
    function loopForOf(results) {
        const items = [];
        const App_component_loopForOf_span_q_e_click_zlNGHYu926I = /*#__PURE__*/ qrl(i_zlNGHYu926I, "App_component_loopForOf_span_q_e_click_zlNGHYu926I", [
            cart
        ]);
        for (const item of results)items.push(/*#__PURE__*/ _jsxSorted("span", {
            "q-e:click": App_component_loopForOf_span_q_e_click_zlNGHYu926I,
            "q:p": item
        }, null, item, 2, "u6_2"));
        return items;
    }
    function loopForIn(results) {
        const items = [];
        const App_component_loopForIn_span_q_e_click_adzBGickx1U = /*#__PURE__*/ qrl(i_adzBGickx1U, "App_component_loopForIn_span_q_e_click_adzBGickx1U", [
            cart,
            results
        ]);
        for(const key in results)items.push(/*#__PURE__*/ _jsxSorted("span", {
            "q-e:click": App_component_loopForIn_span_q_e_click_adzBGickx1U,
            "q:p": key
        }, null, _fnSignal(_hf0, [
            key,
            results
        ], _hf0_str), 0, "u6_3"));
        return items;
    }
    function loopWhile(results) {
        const items = [];
        let i = 0;
        const App_component_loopWhile_span_q_e_click_05kCMrZVn5E = /*#__PURE__*/ qrl(i_05kCMrZVn5E, "App_component_loopWhile_span_q_e_click_05kCMrZVn5E", [
            cart,
            results
        ]);
        while(i < results.length){
            items.push(/*#__PURE__*/ _jsxSorted("span", {
                "q-e:click": App_component_loopWhile_span_q_e_click_05kCMrZVn5E,
                "q:p": i
            }, null, _fnSignal(_hf0, [
                i,
                results
            ], _hf0_str), 0, "u6_4"));
            i++;
        }
        return items;
    }
    return /*#__PURE__*/ _jsxSorted("div", null, null, [
        results.value.map((item)=>/*#__PURE__*/ _jsxSorted("button", {
                "q-e:click": App_component_div_button_q_e_click_UB6Fs5a3bd8,
                "q:p": item
            }, {
                id: "second"
            }, item, 0, "u6_5")),
        loopArrowFn(results.value),
        loopForI(results.value),
        loopForOf(results.value),
        loopForIn(results.value),
        loopWhile(results.value)
    ], 1, "u6_6");
};


Some("{\"version\":3,\"sources\":[\"/user/qwik/src/test.tsx\"],\"names\":[],\"mappings\":\";;;;;uBAyBe,EAAO,IAAG;;;;;;;;yCAvBK;IACxB,MAAM,OAAO,SAAmB,EAAE;IAClC,MAAM,UAAU,UAAU;QAAC;KAAM;;;;IACjC,SAAS,YAAY,OAAiB;;;;QACpC,OAAO,QAAQ,GAAG,CAAC,CAAC,qBAClB,WAAC;gBACC,WAAQ;uBAFQ;qBAMf;IAGP;IACA,SAAS,SAAS,OAAiB;QACjC,MAAM,QAAQ,EAAE;;;;;QAChB,IAAK,IAAI,IAAI,GAAG,IAAI,QAAQ,MAAM,EAAE,IAClC,MAAM,IAAI,eACR,WAAC;YACC,WAAQ;mBAHL;;;;;QAWT,OAAO;IACT;IACA,SAAS,UAAU,OAAiB;QAClC,MAAM,QAAQ,EAAE;;;;QAChB,KAAK,MAAM,QAAQ,QACjB,MAAM,IAAI,eACR,WAAC;YACC,WAAQ;mBAHH;iBAOJ;QAIP,OAAO;IACT;IACA,SAAS,UAAU,OAAiB;QAClC,MAAM,QAAQ,EAAE;;;;;QAChB,IAAK,MAAM,OAAO,QAChB,MAAM,IAAI,eACR,WAAC;YACC,WAAQ;mBAHH;;;;;QAWX,OAAO;IACT;IACA,SAAS,UAAU,OAAiB;QAClC,MAAM,QAAQ,EAAE;QAChB,IAAI,IAAI;;;;;QACR,MAAO,IAAI,QAAQ,MAAM,CAAE;YACzB,MAAM,IAAI,eACR,WAAC;gBACC,WAAQ;uBAHP;;;;;YAUL;QACF;QACA,OAAO;IACT;IACA,qBACE,WAAC;QACE,QAAQ,KAAK,CAAC,GAAG,CAAC,CAAC,qBAClB,WAAC;gBAEC,WAAQ;uBAHQ;;gBAEhB,IAAG;eAKF;QAGJ,YAAY,QAAQ,KAAK;QACzB,SAAS,QAAQ,KAAK;QACtB,UAAU,QAAQ,KAAK;QACvB,UAAU,QAAQ,KAAK;QACvB,UAAU,QAAQ,KAAK;;AAG9B\"}")
/*
{
  "origin": "test.tsx",
  "name": "App_component_ckEPmXZlub0",
  "entry": null,
  "displayName": "test.tsx_App_component",
  "hash": "ckEPmXZlub0",
  "canonicalFilename": "test.tsx_App_component_ckEPmXZlub0",
  "path": "",
  "extension": "js",
  "parent": null,
  "ctxKind": "function",
  "ctxName": "component$",
  "captures": false,
  "loc": [
    101,
    2370
  ]
}
*/
============================= test.tsx_App_component_loopForI_span_q_e_click_PbCYbPM6etI.js (ENTRY POINT)==

import { _captures } from "@qwik.dev/core";
export const App_component_loopForI_span_q_e_click_PbCYbPM6etI = (_, _1, i)=>{
    const cart = _captures[0], results = _captures[1];
    cart.push(results[i]);
};


Some("{\"version\":3,\"sources\":[\"/user/qwik/src/test.tsx\"],\"names\":[],\"mappings\":\";iEAqBwB,QAHP;;IAID,KAAK,IAAI,CAAC,OAAO,CAAC,EAAE\"}")
/*
{
  "origin": "test.tsx",
  "name": "App_component_loopForI_span_q_e_click_PbCYbPM6etI",
  "entry": null,
  "displayName": "test.tsx_App_component_loopForI_span_q_e_click",
  "hash": "PbCYbPM6etI",
  "canonicalFilename": "test.tsx_App_component_loopForI_span_q_e_click_PbCYbPM6etI",
  "path": "",
  "extension": "js",
  "parent": "App_component_ckEPmXZlub0",
  "ctxKind": "eventHandler",
  "ctxName": "onClick$",
  "captures": true,
  "loc": [
    628,
    690
  ],
  "paramNames": [
    "_",
    "_1",
    "i"
  ],
  "captureNames": [
    "cart",
    "results"
  ]
}
*/
============================= test.tsx_App_component_div_button_q_e_click_UB6Fs5a3bd8.js (ENTRY POINT)==

import { _captures } from "@qwik.dev/core";
export const App_component_div_button_q_e_click_UB6Fs5a3bd8 = (_, _1, item)=>{
    const cart = _captures[0];
    cart.push(item);
};


Some("{\"version\":3,\"sources\":[\"/user/qwik/src/test.tsx\"],\"names\":[],\"mappings\":\";8DAmFwB,QAHM;;IAId,KAAK,IAAI,CAAC\"}")
/*
{
  "origin": "test.tsx",
  "name": "App_component_div_button_q_e_click_UB6Fs5a3bd8",
  "entry": null,
  "displayName": "test.tsx_App_component_div_button_q_e_click",
  "hash": "UB6Fs5a3bd8",
  "canonicalFilename": "test.tsx_App_component_div_button_q_e_click_UB6Fs5a3bd8",
  "path": "",
  "extension": "js",
  "parent": "App_component_ckEPmXZlub0",
  "ctxKind": "eventHandler",
  "ctxName": "onClick$",
  "captures": true,
  "loc": [
    2026,
    2082
  ],
  "paramNames": [
    "_",
    "_1",
    "item"
  ],
  "captureNames": [
    "cart"
  ]
}
*/
============================= test.tsx_App_component_loopArrowFn_span_q_e_click_Wau7C836nf0.js (ENTRY POINT)==

import { _captures } from "@qwik.dev/core";
export const App_component_loopArrowFn_span_q_e_click_Wau7C836nf0 = (_, _1, item)=>{
    const cart = _captures[0];
    cart.push(item);
};


Some("{\"version\":3,\"sources\":[\"/user/qwik/src/test.tsx\"],\"names\":[],\"mappings\":\";oEAQsB,QAFM;;IAGd,KAAK,IAAI,CAAC\"}")
/*
{
  "origin": "test.tsx",
  "name": "App_component_loopArrowFn_span_q_e_click_Wau7C836nf0",
  "entry": null,
  "displayName": "test.tsx_App_component_loopArrowFn_span_q_e_click",
  "hash": "Wau7C836nf0",
  "canonicalFilename": "test.tsx_App_component_loopArrowFn_span_q_e_click_Wau7C836nf0",
  "path": "",
  "extension": "js",
  "parent": "App_component_ckEPmXZlub0",
  "ctxKind": "eventHandler",
  "ctxName": "onClick$",
  "captures": true,
  "loc": [
    319,
    371
  ],
  "paramNames": [
    "_",
    "_1",
    "item"
  ],
  "captureNames": [
    "cart"
  ]
}
*/
== DIAGNOSTICS ==

[]
