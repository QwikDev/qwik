---
source: packages/qwik/src/optimizer/core/src/test.rs
assertion_line: 3917
expression: output
snapshot_kind: text
---
==INPUT==


		import { component$, useSignal } from '@qwik.dev/core';
		const useFoo = (count) => {
			const tag = (s) => {
				const value = typeof s === "string" ? s : s[0];
				return `${value}-${count.value}`;
			}
			return tag;
		}

		export default component$(() => {
			const count = useSignal(0);
			const foo = useFoo(count);
			return (
				<>
					<p>{foo("test")}</p>
					<p>{foo`test`}</p>
					<button onClick$={() => count.value++}>Count up</button>
				</>
			);
		});
		
============================= test.tsx_Fragment_button_onClick_aQ2Z6zclvA8.ts (ENTRY POINT)==

import { useLexicalScope } from "@qwik.dev/core";
export const Fragment_button_onClick_aQ2Z6zclvA8 = ()=>{
    const [count] = useLexicalScope();
    return count.value++;
};


Some("{\"version\":3,\"sources\":[\"/user/qwik/src/test.tsx\"],\"names\":[],\"mappings\":\";mDAiBuB;;WAAM,MAAM,KAAK\"}")
/*
{
  "origin": "test.tsx",
  "name": "Fragment_button_onClick_aQ2Z6zclvA8",
  "entry": null,
  "displayName": "test.tsx_Fragment_button_onClick",
  "hash": "aQ2Z6zclvA8",
  "canonicalFilename": "test.tsx_Fragment_button_onClick_aQ2Z6zclvA8",
  "path": "",
  "extension": "ts",
  "parent": "test_component_LUXeXe0DQrg",
  "ctxKind": "eventHandler",
  "ctxName": "onClick$",
  "captures": true,
  "loc": [
    418,
    437
  ],
  "captureNames": [
    "count"
  ]
}
*/
============================= test.tsx_test_component_LUXeXe0DQrg.ts (ENTRY POINT)==

import { Fragment as _Fragment } from "@qwik.dev/core/jsx-runtime";
import { _addLoc } from "@qwik.dev/core/internal";
import { _jsxSorted } from "@qwik.dev/core";
import { qrl } from "@qwik.dev/core";
import { _auto_useFoo as useFoo } from "./test";
import { useSignal } from "@qwik.dev/core";
export const test_component_LUXeXe0DQrg = ()=>{
    const count = _addLoc(useSignal(0), "test.tsx", 13, 18);
    const foo = _addLoc(useFoo(count), "test.tsx", 14, 16);
    return /*#__PURE__*/ _jsxSorted(_Fragment, null, null, [
        /*#__PURE__*/ _jsxSorted("p", null, null, foo("test"), 1, null),
        /*#__PURE__*/ _jsxSorted("p", null, null, foo`test`, 1, null),
        /*#__PURE__*/ _jsxSorted("button", {
            onClick$: /*#__PURE__*/ qrl(()=>import("./test.tsx_Fragment_button_onClick_aQ2Z6zclvA8"), "Fragment_button_onClick_aQ2Z6zclvA8", [
                count
            ])
        }, null, "Count up", 2, null)
    ], 1, "u6_0");
};


Some("{\"version\":3,\"sources\":[\"/user/qwik/src/test.tsx\"],\"names\":[],\"mappings\":\";;;;;;0CAU4B;IACzB,MAAM,QAAQ,QAAA,UAAU;IACxB,MAAM,MAAM,QAAA,OAAO;IACnB,qBACC;sBACC,WAAC,iBAAG,IAAI;sBACR,WAAC,iBAAG,GAAG,CAAC,IAAI,CAAC;sBACb,WAAC;YAAO,QAAQ;;;iBAAuB;;AAG1C\"}")
/*
{
  "origin": "test.tsx",
  "name": "test_component_LUXeXe0DQrg",
  "entry": null,
  "displayName": "test.tsx_test_component",
  "hash": "LUXeXe0DQrg",
  "canonicalFilename": "test.tsx_test_component_LUXeXe0DQrg",
  "path": "",
  "extension": "ts",
  "parent": null,
  "ctxKind": "function",
  "ctxName": "component$",
  "captures": false,
  "loc": [
    257,
    474
  ]
}
*/
============================= test.ts ==

import { componentQrl } from "@qwik.dev/core";
import { qrl } from "@qwik.dev/core";
import { _addLoc } from "@qwik.dev/core/internal";
const useFoo = _addLoc((count)=>{
    const tag = _addLoc((s)=>{
        const value = _addLoc(typeof s === "string" ? s : s[0], "test.tsx", 6, 19);
        return `${value}-${count.value}`;
    }, "test.tsx", 5, 16);
    return tag;
}, "test.tsx", 4, 18);
export default /*#__PURE__*/ componentQrl(/*#__PURE__*/ qrl(()=>import("./test.tsx_test_component_LUXeXe0DQrg"), "test_component_LUXeXe0DQrg"));
export { useFoo as _auto_useFoo };


Some("{\"version\":3,\"sources\":[\"/user/qwik/src/test.tsx\"],\"names\":[],\"mappings\":\";;;AAEE,MAAM,SAAS,QAAA,CAAC;IACf,MAAM,MAAM,QAAA,CAAC;QACZ,MAAM,QAAQ,QAAA,OAAO,MAAM,WAAW,IAAI,CAAC,CAAC,EAAE;QAC9C,OAAO,GAAG,MAAM,CAAC,EAAE,MAAM,KAAK,EAAE;IACjC;IACA,OAAO;AACR;AAEA,6BAAe,mHAUZ\"}")
== DIAGNOSTICS ==

[]
