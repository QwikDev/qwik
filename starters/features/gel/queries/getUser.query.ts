// GENERATED by @gel/generate v0.6.4

import type { Executor } from "gel";

export type GetUserArgs = {
  readonly email?: string | null;
  readonly name?: string | null;
};

export type GetUserReturns = Array<{
  id: string;
  name: string;
  email: string | null;
  has_profile: boolean | null;
  last_updated: Date | null;
}>;

export function getUser(
  client: Executor,
  args: GetUserArgs,
): Promise<GetUserReturns> {
  return client.query(
    `\
select User {
  **
}
filter
  (
    exists(<optional str>$name) and .name = <optional str>$name
  )
  or
  (
    exists(<optional str>$email) and .email = <optional str>$email
  );`,
    args,
  );
}
